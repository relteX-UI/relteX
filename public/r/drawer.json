{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "drawer",
  "type": "registry:ui",
  "title": "Drawer",
  "description": "A drawer component for React Native applications.",
  "dependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/drawer/drawer.tsx",
      "content": "import { cn } from \"@/lib/utils\";\r\nimport * as React from \"react\";\r\nimport {\r\n  Animated,\r\n  Dimensions,\r\n  Easing,\r\n  KeyboardAvoidingView,\r\n  Modal,\r\n  PanResponder,\r\n  Platform,\r\n  StyleSheet,\r\n  Text,\r\n  TouchableWithoutFeedback,\r\n  View,\r\n} from \"react-native\";\r\nimport { SafeAreaView } from \"react-native-safe-area-context\";\r\n\r\n// Animation config constants\r\nconst ANIMATION = {\r\n  OPEN: {\r\n    BACKDROP_DURATION: 180,\r\n    SPRING_VELOCITY: 3,\r\n    SPRING_TENSION: 120,\r\n    SPRING_FRICTION: 22,\r\n  },\r\n  CLOSE: {\r\n    SPRING_FRICTION: 26,\r\n    SPRING_TENSION: 100,\r\n    SPRING_VELOCITY: 0.5,\r\n    BACKDROP_DURATION: 280,\r\n    BACKDROP_DELAY: 100,\r\n  },\r\n  SNAP: {\r\n    SPRING_TENSION: 120,\r\n    SPRING_FRICTION: 22,\r\n  },\r\n};\r\n\r\n// Drag behavior constants\r\nconst DRAG = {\r\n  THRESHOLD: 5,\r\n  CLOSE_DISTANCE: 100,\r\n  VELOCITY_THRESHOLD: {\r\n    UP: 0.3,\r\n    DOWN: 0.5,\r\n  },\r\n  RESISTANCE: 0.1,\r\n};\r\n\r\n// Drawer sizes - Definition of preset snap points\r\nconst DRAWER_SIZES = {\r\n  SMALL: [0.3, 0.5], // Small drawer that can be extended to 50%\r\n  MEDIUM: [0.5, 0.8], // Medium drawer that can be extended to 80%\r\n  LARGE: [0.6, 0.8, 0.95], // Large drawer with size options\r\n  FULL: [0.8, 0.95], // Full screen with reduced option\r\n};\r\n\r\nconst { height: SCREEN_HEIGHT } = Dimensions.get(\"window\");\r\n\r\nexport type DrawerSize = \"small\" | \"medium\" | \"large\" | \"full\" | number[];\r\n\r\nconst resolveSnapPoints = (size: DrawerSize): number[] => {\r\n  if (Array.isArray(size)) return size;\r\n\r\n  switch (size) {\r\n    case \"small\":\r\n      return DRAWER_SIZES.SMALL;\r\n    case \"medium\":\r\n      return DRAWER_SIZES.MEDIUM;\r\n    case \"large\":\r\n      return DRAWER_SIZES.LARGE;\r\n    case \"full\":\r\n      return DRAWER_SIZES.FULL;\r\n    default:\r\n      return DRAWER_SIZES.MEDIUM;\r\n  }\r\n};\r\n\r\ninterface DrawerProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  children: React.ReactNode;\r\n  title?: string;\r\n  size?: DrawerSize;\r\n  initialSnapIndex?: number;\r\n  snapPoints?: number[];\r\n  contentClassName?: string;\r\n  avoidKeyboard?: boolean;\r\n  closeOnBackdropPress?: boolean;\r\n  disableBackHandler?: boolean;\r\n}\r\n\r\ninterface DrawerContextValue {\r\n  close: () => void;\r\n  snapTo: (index: number) => void;\r\n  currentSnapIndex: number;\r\n  snapPoints: number[];\r\n  isClosing: boolean;\r\n  isAnimating: boolean;\r\n  position: Animated.Value;\r\n}\r\n\r\nexport const DrawerContext = React.createContext<DrawerContextValue>({\r\n  close: () => { },\r\n  snapTo: () => { },\r\n  currentSnapIndex: 0,\r\n  snapPoints: DRAWER_SIZES.MEDIUM,\r\n  isClosing: false,\r\n  isAnimating: false,\r\n  position: new Animated.Value(0),\r\n});\r\n\r\nexport const useDrawer = () => React.useContext(DrawerContext);\r\n\r\nconst Drawer = React.forwardRef<View, DrawerProps>(\r\n  (\r\n    {\r\n      open,\r\n      onClose,\r\n      children,\r\n      title,\r\n      size = \"medium\",\r\n      initialSnapIndex = 0,\r\n      snapPoints: providedSnapPoints,\r\n      contentClassName,\r\n      avoidKeyboard = true,\r\n      closeOnBackdropPress = true,\r\n      disableBackHandler = false,\r\n    },\r\n    ref\r\n  ) => {\r\n    const [isVisible, setIsVisible] = React.useState(false);\r\n    const snapPoints = React.useMemo(\r\n      () => providedSnapPoints || resolveSnapPoints(size),\r\n      [size, providedSnapPoints]\r\n    );\r\n    const snapPointsPixels = React.useMemo(\r\n      () => snapPoints.map((point) => SCREEN_HEIGHT - SCREEN_HEIGHT * point),\r\n      [snapPoints]\r\n    );\r\n\r\n    const activeSnapIndex = React.useRef(initialSnapIndex);\r\n    const translateY = React.useRef(new Animated.Value(SCREEN_HEIGHT)).current;\r\n    const backdropOpacity = React.useRef(new Animated.Value(0)).current;\r\n    const isClosing = React.useRef(false);\r\n    const isAnimating = React.useRef(false);\r\n    const hasInitializedOpen = React.useRef(false);\r\n\r\n    const animateOpen = React.useCallback(() => {\r\n      if (isAnimating.current) {\r\n        translateY.stopAnimation();\r\n        backdropOpacity.stopAnimation();\r\n      }\r\n\r\n      isAnimating.current = true;\r\n      translateY.setValue(SCREEN_HEIGHT);\r\n      backdropOpacity.setValue(0);\r\n      isClosing.current = false;\r\n\r\n      Animated.timing(backdropOpacity, {\r\n        toValue: 1,\r\n        duration: ANIMATION.OPEN.BACKDROP_DURATION,\r\n        useNativeDriver: true,\r\n        easing: Easing.out(Easing.ease),\r\n      }).start();\r\n\r\n      Animated.spring(translateY, {\r\n        toValue: snapPointsPixels[initialSnapIndex],\r\n        useNativeDriver: true,\r\n        velocity: ANIMATION.OPEN.SPRING_VELOCITY,\r\n        tension: ANIMATION.OPEN.SPRING_TENSION,\r\n        friction: ANIMATION.OPEN.SPRING_FRICTION,\r\n      }).start(() => {\r\n        isAnimating.current = false;\r\n        activeSnapIndex.current = initialSnapIndex;\r\n      });\r\n    }, [backdropOpacity, translateY, snapPointsPixels, initialSnapIndex]);\r\n\r\n    const animateClose = React.useCallback(() => {\r\n      if (isClosing.current) return;\r\n\r\n      isClosing.current = true;\r\n\r\n      if (isAnimating.current) {\r\n        translateY.stopAnimation();\r\n        backdropOpacity.stopAnimation();\r\n      }\r\n\r\n      isAnimating.current = true;\r\n\r\n      Animated.spring(translateY, {\r\n        toValue: SCREEN_HEIGHT,\r\n        useNativeDriver: true,\r\n        friction: ANIMATION.CLOSE.SPRING_FRICTION,\r\n        tension: ANIMATION.CLOSE.SPRING_TENSION,\r\n        velocity: ANIMATION.CLOSE.SPRING_VELOCITY,\r\n      }).start();\r\n\r\n      Animated.timing(backdropOpacity, {\r\n        toValue: 0,\r\n        duration: ANIMATION.CLOSE.BACKDROP_DURATION,\r\n        easing: Easing.out(Easing.ease),\r\n        useNativeDriver: true,\r\n        delay: ANIMATION.CLOSE.BACKDROP_DELAY,\r\n      }).start(() => {\r\n        requestAnimationFrame(() => {\r\n          setIsVisible(false);\r\n          isClosing.current = false;\r\n          isAnimating.current = false;\r\n          hasInitializedOpen.current = false;\r\n          onClose();\r\n        });\r\n      });\r\n    }, [backdropOpacity, translateY, onClose]);\r\n\r\n    React.useEffect(() => {\r\n      if (open && !isVisible) {\r\n        setIsVisible(true);\r\n        return;\r\n      }\r\n\r\n      if (\r\n        open &&\r\n        isVisible &&\r\n        !hasInitializedOpen.current &&\r\n        !isClosing.current\r\n      ) {\r\n        animateOpen();\r\n        hasInitializedOpen.current = true;\r\n        return;\r\n      }\r\n\r\n      if (!open && isVisible && !isClosing.current) {\r\n        animateClose();\r\n      }\r\n    }, [open, isVisible, animateOpen, animateClose]);\r\n\r\n    const handleBackdropPress = React.useCallback(() => {\r\n      if (closeOnBackdropPress && !isClosing.current) {\r\n        isClosing.current = true;\r\n        isAnimating.current = true;\r\n\r\n        Animated.spring(translateY, {\r\n          toValue: SCREEN_HEIGHT,\r\n          useNativeDriver: true,\r\n          friction: ANIMATION.CLOSE.SPRING_FRICTION,\r\n          tension: ANIMATION.CLOSE.SPRING_TENSION,\r\n          velocity: ANIMATION.CLOSE.SPRING_VELOCITY,\r\n        }).start();\r\n\r\n        Animated.timing(backdropOpacity, {\r\n          toValue: 0,\r\n          duration: ANIMATION.CLOSE.BACKDROP_DURATION,\r\n          easing: Easing.out(Easing.ease),\r\n          useNativeDriver: true,\r\n          delay: ANIMATION.CLOSE.BACKDROP_DELAY,\r\n        }).start(() => {\r\n          requestAnimationFrame(() => {\r\n            setIsVisible(false);\r\n            isClosing.current = false;\r\n            isAnimating.current = false;\r\n            hasInitializedOpen.current = false;\r\n            onClose();\r\n          });\r\n        });\r\n      }\r\n    }, [backdropOpacity, translateY, onClose, closeOnBackdropPress]);\r\n\r\n    const animateToSnapPoint = React.useCallback(\r\n      (index: number, velocity = 0) => {\r\n        if (\r\n          index < 0 ||\r\n          index >= snapPointsPixels.length ||\r\n          isAnimating.current\r\n        )\r\n          return;\r\n\r\n        isAnimating.current = true;\r\n        activeSnapIndex.current = index;\r\n\r\n        Animated.spring(translateY, {\r\n          toValue: snapPointsPixels[index],\r\n          useNativeDriver: true,\r\n          velocity: velocity,\r\n          tension: ANIMATION.SNAP.SPRING_TENSION,\r\n          friction: ANIMATION.SNAP.SPRING_FRICTION,\r\n        }).start(() => {\r\n          isAnimating.current = false;\r\n        });\r\n      },\r\n      [snapPointsPixels]\r\n    );\r\n\r\n    const getTargetSnapIndex = React.useCallback(\r\n      (currentY: number, velocity: number, dragDirection: \"up\" | \"down\") => {\r\n        const isDraggingDown = dragDirection === \"down\";\r\n\r\n        if (\r\n          activeSnapIndex.current === snapPointsPixels.length - 1 &&\r\n          isDraggingDown\r\n        ) {\r\n          return snapPointsPixels.length - 2 >= 0\r\n            ? snapPointsPixels.length - 2\r\n            : 0;\r\n        }\r\n\r\n        if (\r\n          activeSnapIndex.current === 1 &&\r\n          isDraggingDown &&\r\n          velocity > DRAG.VELOCITY_THRESHOLD.UP\r\n        ) {\r\n          return 0;\r\n        }\r\n\r\n        if (\r\n          activeSnapIndex.current === 0 &&\r\n          isDraggingDown &&\r\n          velocity > DRAG.VELOCITY_THRESHOLD.DOWN\r\n        ) {\r\n          return -1;\r\n        }\r\n\r\n        if (currentY > snapPointsPixels[0] + DRAG.CLOSE_DISTANCE) {\r\n          return -1;\r\n        }\r\n\r\n        if (dragDirection === \"up\" && velocity > DRAG.VELOCITY_THRESHOLD.UP) {\r\n          const nextIndex = Math.min(\r\n            activeSnapIndex.current + 1,\r\n            snapPointsPixels.length - 1\r\n          );\r\n          return nextIndex;\r\n        }\r\n\r\n        let closestIndex = 0;\r\n        let minDistance = Math.abs(currentY - snapPointsPixels[0]);\r\n\r\n        for (let i = 1; i < snapPointsPixels.length; i++) {\r\n          const distance = Math.abs(currentY - snapPointsPixels[i]);\r\n          if (distance < minDistance) {\r\n            minDistance = distance;\r\n            closestIndex = i;\r\n          }\r\n        }\r\n\r\n        return closestIndex;\r\n      },\r\n      [snapPointsPixels]\r\n    );\r\n\r\n    const panResponder = React.useMemo(() => {\r\n      let startY = 0;\r\n      const maxDragPoint = snapPointsPixels.length\r\n        ? snapPointsPixels[snapPointsPixels.length - 1]\r\n        : 0;\r\n\r\n      return PanResponder.create({\r\n        onStartShouldSetPanResponder: () =>\r\n          !isClosing.current && !isAnimating.current,\r\n        onMoveShouldSetPanResponder: (_, { dy }) =>\r\n          !isClosing.current &&\r\n          !isAnimating.current &&\r\n          Math.abs(dy) > DRAG.THRESHOLD,\r\n\r\n        onPanResponderGrant: (_, { y0 }) => {\r\n          startY = y0;\r\n          translateY.stopAnimation();\r\n          isAnimating.current = false;\r\n        },\r\n\r\n        onPanResponderMove: (_, { dy }) => {\r\n          if (isClosing.current) return;\r\n\r\n          const currentSnapY = snapPointsPixels[activeSnapIndex.current];\r\n          let newY = currentSnapY + dy;\r\n\r\n          if (newY < maxDragPoint) {\r\n            const overscroll = maxDragPoint - newY;\r\n            const resistedOverscroll =\r\n              -Math.log10(1 + overscroll * DRAG.RESISTANCE) * 10;\r\n            newY = maxDragPoint + resistedOverscroll;\r\n          }\r\n\r\n          translateY.setValue(newY);\r\n        },\r\n\r\n        onPanResponderRelease: (_, { dy, vy }) => {\r\n          if (isClosing.current) return;\r\n\r\n          const dragDirection = dy > 0 ? \"down\" : \"up\";\r\n          const currentY = snapPointsPixels[activeSnapIndex.current] + dy;\r\n          const absVelocity = Math.abs(vy);\r\n\r\n          const targetIndex = getTargetSnapIndex(\r\n            currentY,\r\n            absVelocity,\r\n            dragDirection\r\n          );\r\n\r\n          if (targetIndex === -1) {\r\n            animateClose();\r\n          } else {\r\n            animateToSnapPoint(targetIndex, vy);\r\n          }\r\n        },\r\n      });\r\n    }, [\r\n      snapPointsPixels,\r\n      animateClose,\r\n      animateToSnapPoint,\r\n      getTargetSnapIndex,\r\n    ]);\r\n\r\n    const contextValue = React.useMemo(\r\n      () => ({\r\n        close: animateClose,\r\n        snapTo: animateToSnapPoint,\r\n        currentSnapIndex: activeSnapIndex.current,\r\n        snapPoints,\r\n        isClosing: isClosing.current,\r\n        isAnimating: isAnimating.current,\r\n        position: translateY,\r\n      }),\r\n      [animateClose, animateToSnapPoint, snapPoints, translateY]\r\n    );\r\n\r\n    const renderContent = React.useCallback(\r\n      () => (\r\n        <View className=\"flex-1\">\r\n          <Animated.View\r\n            style={[styles.backdrop, { opacity: backdropOpacity }]}\r\n          >\r\n            {closeOnBackdropPress && (\r\n              <TouchableWithoutFeedback onPress={handleBackdropPress}>\r\n                <View style={StyleSheet.absoluteFillObject} />\r\n              </TouchableWithoutFeedback>\r\n            )}\r\n          </Animated.View>\r\n\r\n          <Animated.View\r\n            style={[styles.drawerContainer, { transform: [{ translateY }] }]}\r\n            className={cn(\r\n              \"absolute bottom-0 left-0 right-0 bg-popover rounded-t-xl overflow-hidden\",\r\n              Platform.OS === \"ios\" ? \"ios:shadow-xl\" : \"android:elevation-24\",\r\n              contentClassName\r\n            )}\r\n          >\r\n\r\n            <View {...panResponder.panHandlers}>\r\n              <View className=\"w-full items-center py-2\">\r\n                <View className=\"w-10 h-1 rounded-full bg-muted-foreground/30\" />\r\n              </View>\r\n\r\n              {title && (\r\n                <View className=\"px-4 pt-1 pb-3 border-b border-border\">\r\n                  <Text className=\"text-xl font-medium text-center text-foreground\">\r\n                    {title}\r\n                  </Text>\r\n                </View>\r\n              )}\r\n            </View>\r\n\r\n            <SafeAreaView className=\"flex-1\" edges={[\"bottom\"]}>\r\n              <View ref={ref} className=\"flex-1\">\r\n                {children}\r\n              </View>\r\n            </SafeAreaView>\r\n          </Animated.View>\r\n        </View>\r\n      ),\r\n      [\r\n        animateClose,\r\n        backdropOpacity,\r\n        closeOnBackdropPress,\r\n        contentClassName,\r\n        panResponder.panHandlers,\r\n        title,\r\n        translateY,\r\n        children,\r\n        ref,\r\n      ]\r\n    );\r\n\r\n    if (!isVisible) return null;\r\n\r\n    return (\r\n      <DrawerContext.Provider value={contextValue}>\r\n        <Modal\r\n          visible={isVisible}\r\n          transparent\r\n          animationType=\"none\"\r\n          statusBarTranslucent\r\n          onRequestClose={disableBackHandler ? undefined : animateClose}\r\n        >\r\n          {avoidKeyboard && Platform.OS === \"ios\" ? (\r\n            <KeyboardAvoidingView\r\n              behavior=\"padding\"\r\n              style={{ flex: 1 }}\r\n              keyboardVerticalOffset={10}\r\n            >\r\n              {renderContent()}\r\n            </KeyboardAvoidingView>\r\n          ) : (\r\n            renderContent()\r\n          )}\r\n        </Modal>\r\n      </DrawerContext.Provider>\r\n    );\r\n  }\r\n);\r\n\r\nconst styles = StyleSheet.create({\r\n  backdrop: {\r\n    ...StyleSheet.absoluteFillObject,\r\n    backgroundColor: \"rgba(0, 0, 0, 0.4)\",\r\n  },\r\n  drawerContainer: {\r\n    height: SCREEN_HEIGHT,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: { width: 0, height: -3 },\r\n    shadowOpacity: 0.15,\r\n    shadowRadius: 8,\r\n    elevation: 24,\r\n  },\r\n});\r\n\r\nDrawer.displayName = \"Drawer\";\r\n\r\nexport { Drawer };\r\n",
      "type": "registry:ui"
    }
  ],
  "changelog": [],
  "customUsage": "import { Drawer } from \"@/components/ui/drawer\";\r\nimport * as React from \"react\";\r\nimport {\r\n    Text,\r\n    View\r\n} from \"react-native\";\r\n\r\nexport default function DrawerExampleScreen() {\r\n    const [drawerOpen, setDrawerOpen] = React.useState(false);\r\n\r\n    return (\r\n        <Drawer\r\n            open={drawerOpen}\r\n            onClose={closeBasicDrawer}\r\n            title=\"Drawer Example\"\r\n            size={[0.4, 0.8]}\r\n            initialSnapIndex={0}\r\n        >\r\n            <View className=\"p-4\">\r\n                <Text className=\"text-base mb-4 text-foreground\">\r\n                    This is an example of drawer content. You can drag this\r\n                    drawer up to see more content.\r\n                </Text>\r\n\r\n                <View className=\"h-px bg-border w-full my-4\" />\r\n\r\n                <Text className=\"text-sm text-muted-foreground\">\r\n                    Try dragging this drawer up and down.\r\n                </Text>\r\n            </View>\r\n        </Drawer>\r\n    );\r\n}\r\n",
  "customPreview": "import { ThemeToggle } from \"@/components/theme-toggle\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Drawer, useDrawer } from \"@/components/ui/drawer\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport { Stack } from \"expo-router\";\r\nimport * as React from \"react\";\r\nimport {\r\n    Keyboard,\r\n    KeyboardAvoidingView,\r\n    Platform,\r\n    ScrollView,\r\n    Text,\r\n    TouchableWithoutFeedback,\r\n    View,\r\n} from \"react-native\";\r\nimport { SafeAreaView } from \"react-native-safe-area-context\";\r\n\r\ntype IoniconName = React.ComponentProps<typeof Ionicons>[\"name\"];\r\n\r\nconst FeedbackForm = () => {\r\n    const [selectedRating, setSelectedRating] = React.useState<number | null>(\r\n        null\r\n    );\r\n    const [feedbackText, setFeedbackText] = React.useState(\"\");\r\n    const { close } = useDrawer();\r\n\r\n    const handleSubmit = () => {\r\n        console.log({ rating: selectedRating, feedback: feedbackText });\r\n        close();\r\n    };\r\n\r\n    return (\r\n        <TouchableWithoutFeedback onPress={Keyboard.dismiss} accessible={false}>\r\n            <ScrollView className=\"p-4\">\r\n                <Text className=\"text-base mb-4 text-foreground\">\r\n                    We'd love to hear your thoughts on our application.\r\n                </Text>\r\n\r\n                <View className=\"mb-4\">\r\n                    <Text className=\"text-sm font-medium mb-2 text-foreground\">\r\n                        How would you rate your experience?\r\n                    </Text>\r\n                    <View className=\"flex-row justify-between\">\r\n                        {[1, 2, 3, 4, 5].map((rating) => (\r\n                            <Button\r\n                                key={rating}\r\n                                variant={selectedRating === rating ? \"default\" : \"outline\"}\r\n                                size=\"icon\"\r\n                                className=\"w-10 h-10 rounded-full\"\r\n                                onPress={() => setSelectedRating(rating)}\r\n                            >\r\n                                <Text\r\n                                    className={\r\n                                        selectedRating === rating\r\n                                            ? \"text-primary-foreground\"\r\n                                            : \"text-foreground\"\r\n                                    }\r\n                                >\r\n                                    {rating}\r\n                                </Text>\r\n                            </Button>\r\n                        ))}\r\n                    </View>\r\n                </View>\r\n\r\n                <View className=\"mb-4\">\r\n                    <Text className=\"text-sm font-medium mb-2 text-foreground\">\r\n                        Your comments\r\n                    </Text>\r\n                    <Input\r\n                        multiline\r\n                        textAlignVertical=\"top\"\r\n                        numberOfLines={4}\r\n                        className=\"h-24 py-2\"\r\n                        placeholder=\"Type your feedback here...\"\r\n                        value={feedbackText}\r\n                        onChangeText={setFeedbackText}\r\n                    />\r\n                </View>\r\n\r\n                <Button onPress={handleSubmit}>\r\n                    <Text className=\"text-primary-foreground\">Submit</Text>\r\n                </Button>\r\n            </ScrollView>\r\n        </TouchableWithoutFeedback>\r\n    );\r\n};\r\n\r\nconst SettingsList = () => {\r\n    const [language, setLanguage] = React.useState(\"\");\r\n\r\n    return (\r\n        <ScrollView>\r\n            {[\r\n                { icon: \"person-outline\" as IoniconName, label: \"My Account\" },\r\n                {\r\n                    icon: \"notifications-outline\" as IoniconName,\r\n                    label: \"Notifications\",\r\n                },\r\n                { icon: \"lock-closed-outline\" as IoniconName, label: \"Privacy\" },\r\n                { icon: \"moon-outline\" as IoniconName, label: \"Theme\" },\r\n                {\r\n                    icon: \"globe-outline\" as IoniconName,\r\n                    label: \"Language\",\r\n                    hasSelect: true,\r\n                },\r\n                { icon: \"help-circle-outline\" as IoniconName, label: \"Help & Support\" },\r\n                { icon: \"information-circle-outline\" as IoniconName, label: \"About\" },\r\n                { icon: \"log-out-outline\" as IoniconName, label: \"Logout\" },\r\n            ].map((item, index) => (\r\n                <View key={index}>\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        className=\"flex-row h-14 items-center px-4 py-2 border-b border-border rounded-none justify-start\"\r\n                    >\r\n                        <Ionicons\r\n                            name={item.icon}\r\n                            size={22}\r\n                            color=\"#6B7280\"\r\n                            style={{ marginRight: 12 }}\r\n                        />\r\n                        <Text className=\"text-base text-foreground\">{item.label}</Text>\r\n                        <Ionicons\r\n                            name=\"chevron-forward\"\r\n                            size={16}\r\n                            color=\"#6B7280\"\r\n                            style={{ marginLeft: \"auto\" }}\r\n                        />\r\n                    </Button>\r\n                </View>\r\n            ))}\r\n        </ScrollView>\r\n    );\r\n};\r\n\r\n// Composant pour le grand drawer avec contenu complexe\r\nconst LargeDrawerContent = () => {\r\n    const { close } = useDrawer();\r\n\r\n    return (\r\n        <ScrollView contentContainerStyle={{ paddingBottom: 200 }}>\r\n            <View className=\"p-4\">\r\n                <Text className=\"text-xl font-bold mb-4 text-foreground\">\r\n                    Section Title\r\n                </Text>\r\n\r\n                <Text className=\"text-base mb-4 text-foreground\">\r\n                    This drawer has three snap points and opens initially at the middle\r\n                    point. Drag it up to see all content, or down for a reduced view.\r\n                </Text>\r\n\r\n                <View className=\"bg-accent/20 rounded-lg p-4 mb-4\">\r\n                    <Text className=\"text-sm font-medium text-foreground mb-2\">Tip</Text>\r\n                    <Text className=\"text-sm text-muted-foreground\">\r\n                        For a better user experience, the drawer uses fluid animations and\r\n                        progressive resistance when you try to drag beyond the limits.\r\n                    </Text>\r\n                </View>\r\n\r\n                <View className=\"h-px bg-border w-full my-4\" />\r\n\r\n                <Text className=\"text-base font-bold mb-2 text-foreground\">\r\n                    Features:\r\n                </Text>\r\n\r\n                {[\r\n                    \"Multiple configurable snap points\",\r\n                    \"Fluid spring animations\",\r\n                    \"Responsive drag behavior\",\r\n                    \"Close by dragging down or touching the backdrop\",\r\n                    \"Support for complex scrollable content\",\r\n                    \"Easy customization via classes\",\r\n                ].map((feature, index) => (\r\n                    <View key={index} className=\"flex-row items-center py-2\">\r\n                        <View className=\"w-2 h-2 rounded-full bg-primary mr-2\" />\r\n                        <Text className=\"text-base text-foreground\">{feature}</Text>\r\n                    </View>\r\n                ))}\r\n\r\n                <View className=\"h-px bg-border w-full my-4\" />\r\n\r\n                <Text className=\"text-base font-bold mb-2 text-foreground\">\r\n                    Demo Content:\r\n                </Text>\r\n\r\n                {Array(15)\r\n                    .fill(0)\r\n                    .map((_, i) => (\r\n                        <View key={i} className=\"py-3 border-b border-border\">\r\n                            <Text className=\"text-base text-foreground\">\r\n                                Content item {i + 1}\r\n                            </Text>\r\n                            <Text className=\"text-sm text-muted-foreground\">\r\n                                Additional description for this content item\r\n                            </Text>\r\n                        </View>\r\n                    ))}\r\n\r\n                <Button variant=\"outline\" className=\"mt-6 mb-10\" onPress={close}>\r\n                    <Text className=\"text-foreground\">Close Drawer</Text>\r\n                </Button>\r\n            </View>\r\n        </ScrollView>\r\n    );\r\n};\r\n\r\nexport default function DrawerExampleScreen() {\r\n    const [drawerOpen, setDrawerOpen] = React.useState(false);\r\n    const [feedbackDrawerOpen, setFeedbackDrawerOpen] = React.useState(false);\r\n    const [settingsDrawerOpen, setSettingsDrawerOpen] = React.useState(false);\r\n    const [largeDrawerOpen, setLargeDrawerOpen] = React.useState(false);\r\n\r\n    // Simplifier l'implémentation pour éviter le double-tap\r\n    const openBasicDrawer = React.useCallback(() => setDrawerOpen(true), []);\r\n    const closeBasicDrawer = React.useCallback(() => setDrawerOpen(false), []);\r\n\r\n    const openFeedbackDrawer = React.useCallback(\r\n        () => setFeedbackDrawerOpen(true),\r\n        []\r\n    );\r\n    const closeFeedbackDrawer = React.useCallback(\r\n        () => setFeedbackDrawerOpen(false),\r\n        []\r\n    );\r\n\r\n    const openSettingsDrawer = React.useCallback(\r\n        () => setSettingsDrawerOpen(true),\r\n        []\r\n    );\r\n    const closeSettingsDrawer = React.useCallback(\r\n        () => setSettingsDrawerOpen(false),\r\n        []\r\n    );\r\n\r\n    const openLargeDrawer = React.useCallback(() => setLargeDrawerOpen(true), []);\r\n    const closeLargeDrawer = React.useCallback(\r\n        () => setLargeDrawerOpen(false),\r\n        []\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Stack.Screen\r\n                options={{\r\n                    title: \"Drawer\",\r\n                    headerRight: () => <ThemeToggle />,\r\n                }}\r\n            />\r\n\r\n            <SafeAreaView className=\"flex-1 bg-background\" edges={[\"bottom\"]}>\r\n                <KeyboardAvoidingView\r\n                    behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\r\n                    style={{ flex: 1 }}\r\n                    keyboardVerticalOffset={100}\r\n                >\r\n                    <ScrollView className=\"p-4\">\r\n                        <View className=\"mb-6\">\r\n                            <Text className=\"text-2xl font-bold mb-2 text-foreground\">\r\n                                Drawer\r\n                            </Text>\r\n                            <Text className=\"text-base mb-6 text-muted-foreground\">\r\n                                A bottom sheet component that can be dragged up and down with\r\n                                snap points.\r\n                            </Text>\r\n                        </View>\r\n\r\n                        <View className=\"mb-8\">\r\n                            <Text className=\"text-xl font-semibold mb-4 text-foreground\">\r\n                                Basic Drawer\r\n                            </Text>\r\n                            <Button onPress={openBasicDrawer}>\r\n                                <Text className=\"text-primary-foreground\">Open Drawer</Text>\r\n                            </Button>\r\n\r\n                            <Drawer\r\n                                open={drawerOpen}\r\n                                onClose={closeBasicDrawer}\r\n                                title=\"Drawer Example\"\r\n                                size={[0.4, 0.8]}\r\n                                initialSnapIndex={0}\r\n                            >\r\n                                <View className=\"p-4\">\r\n                                    <Text className=\"text-base mb-4 text-foreground\">\r\n                                        This is an example of drawer content. You can drag this\r\n                                        drawer up to see more content.\r\n                                    </Text>\r\n\r\n                                    <View className=\"h-px bg-border w-full my-4\" />\r\n\r\n                                    <Text className=\"text-sm text-muted-foreground\">\r\n                                        Try dragging this drawer up and down.\r\n                                    </Text>\r\n                                </View>\r\n                            </Drawer>\r\n                        </View>\r\n\r\n                        <View className=\"mb-8\">\r\n                            <Text className=\"text-xl font-semibold mb-4 text-foreground\">\r\n                                Drawer with Form\r\n                            </Text>\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                onPress={openFeedbackDrawer}\r\n                                className=\"bg-primary/10\"\r\n                            >\r\n                                <Ionicons\r\n                                    name=\"chatbubble-outline\"\r\n                                    size={20}\r\n                                    color=\"#4F46E5\"\r\n                                    style={{ marginRight: 8 }}\r\n                                />\r\n                                <Text className=\"text-base font-medium text-primary\">\r\n                                    Leave Feedback\r\n                                </Text>\r\n                            </Button>\r\n\r\n                            <Drawer\r\n                                open={feedbackDrawerOpen}\r\n                                onClose={closeFeedbackDrawer}\r\n                                title=\"Feedback\"\r\n                                size=\"medium\"\r\n                                initialSnapIndex={0}\r\n                            >\r\n                                <FeedbackForm />\r\n                            </Drawer>\r\n                        </View>\r\n\r\n                        <View className=\"mb-8\">\r\n                            <Text className=\"text-xl font-semibold mb-4 text-foreground\">\r\n                                Drawer with List\r\n                            </Text>\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                onPress={openSettingsDrawer}\r\n                                className=\"justify-between\"\r\n                            >\r\n                                <View className=\"flex-row items-center\">\r\n                                    <Ionicons\r\n                                        name=\"settings-outline\"\r\n                                        size={20}\r\n                                        color=\"#6B7280\"\r\n                                        style={{ marginRight: 8 }}\r\n                                    />\r\n                                    <Text className=\"text-base text-foreground\">Settings</Text>\r\n                                </View>\r\n                                <Ionicons name=\"chevron-up\" size={16} color=\"#6B7280\" />\r\n                            </Button>\r\n\r\n                            <Drawer\r\n                                open={settingsDrawerOpen}\r\n                                onClose={closeSettingsDrawer}\r\n                                title=\"Settings\"\r\n                                size=\"large\"\r\n                                initialSnapIndex={0}\r\n                            >\r\n                                <SettingsList />\r\n                            </Drawer>\r\n                        </View>\r\n\r\n                        <View className=\"mb-8\">\r\n                            <Text className=\"text-xl font-semibold mb-4 text-foreground\">\r\n                                Large Drawer with Complex Content\r\n                            </Text>\r\n                            <Button variant=\"secondary\" onPress={openLargeDrawer}>\r\n                                <Text className=\"text-accent-foreground\">\r\n                                    View More Information\r\n                                </Text>\r\n                            </Button>\r\n\r\n                            <Drawer\r\n                                open={largeDrawerOpen}\r\n                                onClose={closeLargeDrawer}\r\n                                title=\"Detailed Information\"\r\n                                size={[0.3, 0.7, 0.95]}\r\n                                initialSnapIndex={1}\r\n                            >\r\n                                <LargeDrawerContent />\r\n                            </Drawer>\r\n                        </View>\r\n                    </ScrollView>\r\n                </KeyboardAvoidingView>\r\n            </SafeAreaView>\r\n        </>\r\n    );\r\n}\r\n"
}