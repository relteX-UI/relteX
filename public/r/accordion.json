{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "accordion",
  "type": "registry:ui",
  "title": "Accordion",
  "description": "A accordion component for React Native applications.",
  "dependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/accordion/accordion.tsx",
      "content": "import * as React from 'react';\r\nimport { Pressable, View, Text, LayoutAnimation, Platform, UIManager } from 'react-native';\r\nimport { Feather } from '@expo/vector-icons';\r\nimport { cn } from '@/lib/utils';\r\n\r\n// Enable layout animation for Android\r\nif (Platform.OS === 'android') {\r\n  if (UIManager.setLayoutAnimationEnabledExperimental) {\r\n    UIManager.setLayoutAnimationEnabledExperimental(true);\r\n  }\r\n}\r\n\r\ninterface AccordionContextValue {\r\n  value: string[];\r\n  onValueChange: (itemValue: string) => void;\r\n  type: 'single' | 'multiple';\r\n}\r\n\r\nconst AccordionContext = React.createContext<AccordionContextValue | null>(null);\r\n\r\nexport interface AccordionProps {\r\n  type?: 'single' | 'multiple';\r\n  collapsible?: boolean;\r\n  value?: string[];\r\n  onValueChange?: (value: string[]) => void;\r\n  defaultValue?: string[];\r\n  className?: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Accordion = ({\r\n  type = 'single',\r\n  collapsible = false,\r\n  value,\r\n  onValueChange,\r\n  defaultValue,\r\n  className,\r\n  children,\r\n}: AccordionProps) => {\r\n  const [state, setState] = React.useState<string[]>(value || defaultValue || []);\r\n\r\n  const isControlled = value !== undefined;\r\n  const accordionValue = isControlled ? value : state;\r\n\r\n  const handleValueChange = React.useCallback((itemValue: string) => {\r\n    const isSelected = accordionValue.includes(itemValue);\r\n\r\n    let newValue: string[] = [];\r\n\r\n    if (type === 'single') {\r\n      if (isSelected) {\r\n        newValue = collapsible ? [] : [itemValue];\r\n      } else {\r\n        newValue = [itemValue];\r\n      }\r\n    } else {\r\n      if (isSelected) {\r\n        newValue = accordionValue.filter((v) => v !== itemValue);\r\n      } else {\r\n        newValue = [...accordionValue, itemValue];\r\n      }\r\n    }\r\n\r\n    if (!isControlled) {\r\n      setState(newValue);\r\n    }\r\n\r\n    onValueChange?.(newValue);\r\n  }, [accordionValue, collapsible, isControlled, onValueChange, type]);\r\n\r\n  return (\r\n    <AccordionContext.Provider value={{ value: accordionValue, onValueChange: handleValueChange, type }}>\r\n      <View className={cn(\"w-full\", className)}>\r\n        {children}\r\n      </View>\r\n    </AccordionContext.Provider>\r\n  );\r\n};\r\n\r\ninterface AccordionItemProps {\r\n  value: string;\r\n  className?: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst AccordionItem = ({ value, className, children }: AccordionItemProps) => {\r\n  const context = React.useContext(AccordionContext);\r\n\r\n  if (!context) {\r\n    throw new Error('AccordionItem must be used within an Accordion');\r\n  }\r\n\r\n  const isExpanded = context.value.includes(value);\r\n\r\n  return (\r\n    <View className={cn(\"border-b border-border\", className)}>\r\n      {React.Children.map(children, (child) => {\r\n        if (React.isValidElement(child)) {\r\n          return React.cloneElement(child as React.ReactElement<any>, {\r\n            value,\r\n            isExpanded,\r\n          });\r\n        }\r\n        return child;\r\n      })}\r\n    </View>\r\n  );\r\n};\r\n\r\ninterface AccordionTriggerProps {\r\n  className?: string;\r\n  children: React.ReactNode;\r\n  value?: string;\r\n  isExpanded?: boolean;\r\n}\r\n\r\nconst AccordionTrigger = ({\r\n  className,\r\n  children,\r\n  value,\r\n  isExpanded,\r\n}: AccordionTriggerProps) => {\r\n  const context = React.useContext(AccordionContext);\r\n\r\n  if (!context || value === undefined) {\r\n    return null;\r\n  }\r\n\r\n  const iconRotation = isExpanded ? 180 : 0;\r\n\r\n  const handlePress = () => {\r\n    LayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\r\n    context.onValueChange(value);\r\n  };\r\n\r\n  return (\r\n    <Pressable\r\n      onPress={handlePress}\r\n      className={cn(\r\n        \"flex-row items-center justify-between py-4\",\r\n        className\r\n      )}\r\n      accessibilityRole=\"button\"\r\n      accessibilityState={{ expanded: isExpanded }}\r\n      accessibilityHint=\"Toggle accordion section\"\r\n    >\r\n      <View className=\"flex-1\">\r\n        {typeof children === 'string' ? (\r\n          <Text className=\"text-base font-medium text-foreground\">{children}</Text>\r\n        ) : (\r\n          children\r\n        )}\r\n      </View>\r\n      <View style={{ transform: [{ rotate: `${iconRotation}deg` }] }}>\r\n        <Feather name=\"chevron-down\" size={20} color=\"#888\" />\r\n      </View>\r\n    </Pressable>\r\n  );\r\n};\r\n\r\ninterface AccordionContentProps {\r\n  className?: string;\r\n  children: React.ReactNode;\r\n  value?: string;\r\n  isExpanded?: boolean;\r\n}\r\n\r\nconst AccordionContent = ({\r\n  className,\r\n  children,\r\n  value,\r\n  isExpanded,\r\n}: AccordionContentProps) => {\r\n  if (!isExpanded) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <View\r\n      className={cn(\"pb-4 pt-0\", className)}\r\n    >\r\n      {typeof children === 'string' ? (\r\n        <Text className=\"text-base text-muted-foreground\">{children}</Text>\r\n      ) : (\r\n        children\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nAccordion.displayName = 'Accordion';\r\nAccordionItem.displayName = 'AccordionItem';\r\nAccordionTrigger.displayName = 'AccordionTrigger';\r\nAccordionContent.displayName = 'AccordionContent';\r\n\r\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }; ",
      "type": "registry:ui"
    }
  ],
  "changelog": [],
  "customUsage": "import {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from \"@/components/ui/accordion\";\r\nimport * as React from \"react\";\r\nimport { Text } from \"react-native\";\r\n\r\nexport default function AccordionExample() {\r\n    return (\r\n        <Accordion type=\"single\" defaultValue={[\"item-1\"]} collapsible>\r\n            <AccordionItem value=\"item-1\">\r\n                <AccordionTrigger>Is it accessible?</AccordionTrigger>\r\n                <AccordionContent>\r\n                    <Text className=\"text-base text-muted-foreground\">\r\n                        Yes. It adheres to mobile accessibility guidelines with proper touch\r\n                        target sizes, semantic markup, and smooth animations optimized for\r\n                        React Native.\r\n                    </Text>\r\n                </AccordionContent>\r\n            </AccordionItem>\r\n\r\n            <AccordionItem value=\"item-2\">\r\n                <AccordionTrigger>Is it responsive?</AccordionTrigger>\r\n                <AccordionContent>\r\n                    <Text className=\"text-base text-muted-foreground\">\r\n                        Yes. It's optimized for both iOS and Android experiences and\r\n                        follows native platform conventions while maintaining a consistent\r\n                        appearance.\r\n                    </Text>\r\n                </AccordionContent>\r\n            </AccordionItem>\r\n\r\n            <AccordionItem value=\"item-3\">\r\n                <AccordionTrigger>Is it customizable?</AccordionTrigger>\r\n                <AccordionContent>\r\n                    <Text className=\"text-base text-muted-foreground\">\r\n                        Yes. You can customize the styling using NativeWind classes or\r\n                        provide your own components for triggers and content. The\r\n                        animation is also customizable.\r\n                    </Text>\r\n                </AccordionContent>\r\n            </AccordionItem>\r\n        </Accordion>\r\n    );\r\n}\r\n",
  "customPreview": "import {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from \"@/components/ui/accordion\";\r\nimport * as React from \"react\";\r\nimport { ScrollView, Text, View } from \"react-native\";\r\nimport { SafeAreaView } from \"react-native-safe-area-context\";\r\n\r\nexport default function AccordionExample() {\r\n    return (\r\n        <>\r\n            <SafeAreaView className=\"flex-1 bg-background\" edges={[\"bottom\"]}>\r\n                <ScrollView className=\"p-4\">\r\n                    <View className=\"mb-6\">\r\n                        <Text className=\"text-2xl font-bold mb-2 text-foreground\">\r\n                            Accordion\r\n                        </Text>\r\n                        <Text className=\"text-base mb-6 text-muted-foreground\">\r\n                            A vertically stacked set of interactive headings that each reveal a section of content.\r\n                        </Text>\r\n                    </View>\r\n\r\n                    <View className=\"mb-8\">\r\n                        <Text className=\"text-xl font-semibold mb-4 text-foreground\">\r\n                            Default Accordion\r\n                        </Text>\r\n                        <Accordion type=\"single\" defaultValue={[\"item-1\"]} collapsible>\r\n                            <AccordionItem value=\"item-1\">\r\n                                <AccordionTrigger>Is it accessible?</AccordionTrigger>\r\n                                <AccordionContent>\r\n                                    <Text className=\"text-base text-muted-foreground\">\r\n                                        Yes. It adheres to mobile accessibility guidelines with proper touch\r\n                                        target sizes, semantic markup, and smooth animations optimized for\r\n                                        React Native.\r\n                                    </Text>\r\n                                </AccordionContent>\r\n                            </AccordionItem>\r\n\r\n                            <AccordionItem value=\"item-2\">\r\n                                <AccordionTrigger>Is it responsive?</AccordionTrigger>\r\n                                <AccordionContent>\r\n                                    <Text className=\"text-base text-muted-foreground\">\r\n                                        Yes. It's optimized for both iOS and Android experiences and\r\n                                        follows native platform conventions while maintaining a consistent\r\n                                        appearance.\r\n                                    </Text>\r\n                                </AccordionContent>\r\n                            </AccordionItem>\r\n\r\n                            <AccordionItem value=\"item-3\">\r\n                                <AccordionTrigger>Is it customizable?</AccordionTrigger>\r\n                                <AccordionContent>\r\n                                    <Text className=\"text-base text-muted-foreground\">\r\n                                        Yes. You can customize the styling using NativeWind classes or\r\n                                        provide your own components for triggers and content. The\r\n                                        animation is also customizable.\r\n                                    </Text>\r\n                                </AccordionContent>\r\n                            </AccordionItem>\r\n                        </Accordion>\r\n                    </View>\r\n\r\n                    <View className=\"mb-8\">\r\n                        <Text className=\"text-xl font-semibold mb-4 text-foreground\">\r\n                            Multiple Expanded Items\r\n                        </Text>\r\n                        <Accordion type=\"multiple\" defaultValue={[\"item-1\", \"item-2\"]}>\r\n                            <AccordionItem value=\"item-1\">\r\n                                <AccordionTrigger>Native Mobile Design</AccordionTrigger>\r\n                                <AccordionContent>\r\n                                    <Text className=\"text-base text-muted-foreground\">\r\n                                        This accordion follows native mobile design patterns with appropriate\r\n                                        touch target sizes (at least 44×44 points on iOS, 48×48dp on Android)\r\n                                        and sufficient spacing between interactive elements.\r\n                                    </Text>\r\n                                </AccordionContent>\r\n                            </AccordionItem>\r\n\r\n                            <AccordionItem value=\"item-2\">\r\n                                <AccordionTrigger>Smooth Animations</AccordionTrigger>\r\n                                <AccordionContent>\r\n                                    <Text className=\"text-base text-muted-foreground\">\r\n                                        The animations are optimized for mobile with proper timing\r\n                                        and easing functions that match platform conventions. The component\r\n                                        uses React Native Reanimated for hardware-accelerated animations.\r\n                                    </Text>\r\n                                </AccordionContent>\r\n                            </AccordionItem>\r\n\r\n                            <AccordionItem value=\"item-3\">\r\n                                <AccordionTrigger>Accessibility Support</AccordionTrigger>\r\n                                <AccordionContent>\r\n                                    <Text className=\"text-base text-muted-foreground\">\r\n                                        Built with accessibility in mind, this component includes proper\r\n                                        accessibility roles, states, and hints for screen readers on both\r\n                                        iOS (VoiceOver) and Android (TalkBack).\r\n                                    </Text>\r\n                                </AccordionContent>\r\n                            </AccordionItem>\r\n                        </Accordion>\r\n                    </View>\r\n                </ScrollView>\r\n            </SafeAreaView>\r\n        </>\r\n    );\r\n}\r\n"
}